(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{74:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return i})),n.d(t,"default",(function(){return c}));var o=n(3),a=(n(0),n(104));const r={id:"getting-started",title:"Getting Started",sidebar_label:"Getting Started",slug:"/"},s={unversionedId:"getting-started",id:"getting-started",isDocsHomePage:!1,title:"Getting Started",description:"Installation",source:"@site/docs/gettingStarted.mdx",slug:"/",permalink:"/docs/",editUrl:"https://github.com/aminadav/globx/edit/master/website/docs/gettingStarted.mdx",version:"current",sidebar_label:"Getting Started",sidebar:"someSidebar",next:{title:"Todo App",permalink:"/docs/todo"}},i=[{value:"Installation",id:"installation",children:[]},{value:"Creating your first store",id:"creating-your-first-store",children:[]},{value:"Mutating objects",id:"mutating-objects",children:[]},{value:"Async operations",id:"async-operations",children:[]},{value:"Sharing Logic",id:"sharing-logic",children:[]},{value:"Multi stores",id:"multi-stores",children:[]}],l={toc:i};function c({components:e,...t}){return Object(a.b)("wrapper",Object(o.a)({},l,t,{components:e,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"installation"},"Installation"),Object(a.b)("p",null,"First you have to install GlobX"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-shell"},"npm i globx\n")),Object(a.b)("h2",{id:"creating-your-first-store"},"Creating your first store"),Object(a.b)("p",null,"Create the store file ",Object(a.b)("inlineCode",{parentName:"p"},"mystore.js")," (or ",Object(a.b)("inlineCode",{parentName:"p"},"mystore.ts"),")"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-js"},"import {newStore} from 'globx'\nconst myStore=newStore({\n  value:1,\n  todos:[]\n})\nexport default myStore\n")),Object(a.b)("p",null,"the store can contain primitive values, objects, functions, arrays, Dates or whatever you wish. is just a regular javascript object."),Object(a.b)("p",null,"Then you can show values from the store and update or call functions in your store"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-js"},"import store from './mystore'\nfunction MyComponent(){\n  return <div>\n    Current value: {store.value}\n    <button onClick={()=>{\n      store.value++\n    }}>Increment</button>\n  </div>\n}\n")),Object(a.b)("p",null,"To be sure that your component will render when value changed you have to do 2 things:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"call the function ",Object(a.b)("inlineCode",{parentName:"li"},"updateStore")," after changing the store."),Object(a.b)("li",{parentName:"ul"},"Call the function ",Object(a.b)("inlineCode",{parentName:"li"},"useRenderIfIChange")," and give it an array of values that should be inseted. One of the those values changed, the component will rerender.")),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-js",metastring:"{3,6}","{3,6}":!0},"import store from './mystore'\nfunction MyComponent(){\n  store.useRerenderIfChange(()=>[store.value])\n  return <div>\n    Current value: {store.value}\n    <button onClick={()=>{\n      store.value++\n    }}>Increment</button>\n  </div>\n}\n")),Object(a.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(a.b)("div",{parentName:"div",className:"admonition-heading"},Object(a.b)("h5",{parentName:"div"},Object(a.b)("span",{parentName:"h5",className:"admonition-icon"},Object(a.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(a.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(a.b)("div",{parentName:"div",className:"admonition-content"},Object(a.b)("p",{parentName:"div"},"That It! Now you know everything about how to use GlobX!"))),Object(a.b)("h2",{id:"mutating-objects"},"Mutating objects"),Object(a.b)("p",null,"Another examples of a simple todo list. You don't have to clone the array:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-javascript"},"import store from './mystore'\nfunction MyComponent(){\n  store.useRerenderIfChange(()=>[store.todos])\n  return <div>\n    {store.todos.map(x=><div>{x}</div>)}\n    <button onClick={()=>{\n      store.todos.push(new Math.random())\n      store.updateStore()\n    }}>Add new item</button>\n  </div>\n}\n")),Object(a.b)("p",null,"The last thing to now. You have auto-complete everywhere:"),Object(a.b)("p",null,Object(a.b)("img",{parentName:"p",src:"https://snipboard.io/bkl6nq.jpg",alt:"img"})),Object(a.b)("h2",{id:"async-operations"},"Async operations"),Object(a.b)("p",null,"What about async operations? It's working out of the box:"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-javascript"},"<button onClick={async ()=>{\n  store.isLoading = true\n  store.updateStore() // update ajax loaders on the screeen\n  let res = await fetch('/getSomethingFromServer')\n  store.isloading = false\n  store.result=res\n  store.updateStore()\n}}>Add new item</button>\n}\n")),Object(a.b)("h2",{id:"sharing-logic"},"Sharing Logic"),Object(a.b)("p",null,"If you wish to have a specific logic of mutating to the store (actions), you can add functions to the store and call them"),Object(a.b)("pre",null,Object(a.b)("code",{parentName:"pre",className:"language-js"},"var store=newStore({\n  value:1,\n  setValue: newValue=>{\n    store.value++\n    store.updateStore()\n  }\n})\n")),Object(a.b)("p",null,"You can also create async functions."),Object(a.b)("h2",{id:"multi-stores"},"Multi stores"),Object(a.b)("p",null,"Although probably most of the projects will use one global store. You are free to create multi stores, and use each or both of them in any component."))}c.isMDXComponent=!0}}]);